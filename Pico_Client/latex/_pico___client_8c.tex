\doxysection{Referencia del archivo Pico\+\_\+\+Client.\+c}
\hypertarget{_pico___client_8c}{}\label{_pico___client_8c}\index{Pico\_Client.c@{Pico\_Client.c}}


Cliente UDP (guante) para enviar posiciones de los dedos a la mano robótica.  


{\ttfamily \#include $<$string.\+h$>$}\newline
{\ttfamily \#include $<$stdio.\+h$>$}\newline
{\ttfamily \#include $<$stdlib.\+h$>$}\newline
{\ttfamily \#include "{}pico/stdlib.\+h"{}}\newline
{\ttfamily \#include "{}pico/cyw43\+\_\+arch.\+h"{}}\newline
{\ttfamily \#include "{}lwip/udp.\+h"{}}\newline
{\ttfamily \#include "{}hardware/timer.\+h"{}}\newline
{\ttfamily \#include "{}lib/guante/guante.\+h"{}}\newline
\doxysubsubsection*{defines}
\begin{DoxyCompactItemize}
\item 
\#define \mbox{\hyperlink{_pico___client_8c_a586542b79d00e4db7e1d5a667ae83a2b}{WIFI\+\_\+\+SSID}}~"{}i\+Phone de Felipe"{}
\begin{DoxyCompactList}\small\item\em SSID del hotspot Wi-\/\+Fi al que se conecta el guante. \end{DoxyCompactList}\item 
\#define \mbox{\hyperlink{_pico___client_8c_a8685d8aff7e570048090a3a51afceb07}{WIFI\+\_\+\+PASSWORD}}~"{}ff11223344"{}
\begin{DoxyCompactList}\small\item\em Contraseña del hotspot Wi-\/\+Fi. \end{DoxyCompactList}\item 
\#define \mbox{\hyperlink{_pico___client_8c_a28d06fc286f28044ed3380969700ff3f}{SERVER\+\_\+\+IP}}~"{}172.\+20.\+10.\+2"{}
\begin{DoxyCompactList}\small\item\em Dirección IP del servidor (mano robótica). \end{DoxyCompactList}\item 
\#define \mbox{\hyperlink{_pico___client_8c_a7342deb9bd9ebf195e550e2d8e7c38b4}{UDP\+\_\+\+PORT}}~4242
\begin{DoxyCompactList}\small\item\em Puerto UDP usado para enviar las tramas al servidor. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsubsection*{Funciones}
\begin{DoxyCompactItemize}
\item 
bool \mbox{\hyperlink{_pico___client_8c_ab895fc42f5b02b157111681fd1465632}{send\+\_\+timer\+\_\+callback}} (struct repeating\+\_\+timer \texorpdfstring{$\ast$}{*}t)
\begin{DoxyCompactList}\small\item\em Callback del timer periódico para disparar el envío de datos. \end{DoxyCompactList}\item 
int \mbox{\hyperlink{_pico___client_8c_ae66f6b31b5ad750f1fe042a706a4e3d4}{main}} ()
\begin{DoxyCompactList}\small\item\em Punto de entrada del cliente (guante). \end{DoxyCompactList}\end{DoxyCompactItemize}


\doxysubsection{Descripción detallada}
Cliente UDP (guante) para enviar posiciones de los dedos a la mano robótica. 

Lee los sensores del guante mediante MUX + ADC y envía una trama UDP periódica hacia el servidor (mano) usando la Pico W y lw\+IP en modo NO\+\_\+\+SYS. 

\label{doc-define-members}
\Hypertarget{_pico___client_8c_doc-define-members}
\doxysubsection{Documentación de «define»}
\Hypertarget{_pico___client_8c_a28d06fc286f28044ed3380969700ff3f}\index{Pico\_Client.c@{Pico\_Client.c}!SERVER\_IP@{SERVER\_IP}}
\index{SERVER\_IP@{SERVER\_IP}!Pico\_Client.c@{Pico\_Client.c}}
\doxysubsubsection{\texorpdfstring{SERVER\_IP}{SERVER\_IP}}
{\footnotesize\ttfamily \label{_pico___client_8c_a28d06fc286f28044ed3380969700ff3f} 
\#define SERVER\+\_\+\+IP~"{}172.\+20.\+10.\+2"{}}



Dirección IP del servidor (mano robótica). 

\Hypertarget{_pico___client_8c_a7342deb9bd9ebf195e550e2d8e7c38b4}\index{Pico\_Client.c@{Pico\_Client.c}!UDP\_PORT@{UDP\_PORT}}
\index{UDP\_PORT@{UDP\_PORT}!Pico\_Client.c@{Pico\_Client.c}}
\doxysubsubsection{\texorpdfstring{UDP\_PORT}{UDP\_PORT}}
{\footnotesize\ttfamily \label{_pico___client_8c_a7342deb9bd9ebf195e550e2d8e7c38b4} 
\#define UDP\+\_\+\+PORT~4242}



Puerto UDP usado para enviar las tramas al servidor. 

\Hypertarget{_pico___client_8c_a8685d8aff7e570048090a3a51afceb07}\index{Pico\_Client.c@{Pico\_Client.c}!WIFI\_PASSWORD@{WIFI\_PASSWORD}}
\index{WIFI\_PASSWORD@{WIFI\_PASSWORD}!Pico\_Client.c@{Pico\_Client.c}}
\doxysubsubsection{\texorpdfstring{WIFI\_PASSWORD}{WIFI\_PASSWORD}}
{\footnotesize\ttfamily \label{_pico___client_8c_a8685d8aff7e570048090a3a51afceb07} 
\#define WIFI\+\_\+\+PASSWORD~"{}ff11223344"{}}



Contraseña del hotspot Wi-\/\+Fi. 

\Hypertarget{_pico___client_8c_a586542b79d00e4db7e1d5a667ae83a2b}\index{Pico\_Client.c@{Pico\_Client.c}!WIFI\_SSID@{WIFI\_SSID}}
\index{WIFI\_SSID@{WIFI\_SSID}!Pico\_Client.c@{Pico\_Client.c}}
\doxysubsubsection{\texorpdfstring{WIFI\_SSID}{WIFI\_SSID}}
{\footnotesize\ttfamily \label{_pico___client_8c_a586542b79d00e4db7e1d5a667ae83a2b} 
\#define WIFI\+\_\+\+SSID~"{}i\+Phone de Felipe"{}}



SSID del hotspot Wi-\/\+Fi al que se conecta el guante. 



\label{doc-func-members}
\Hypertarget{_pico___client_8c_doc-func-members}
\doxysubsection{Documentación de funciones}
\Hypertarget{_pico___client_8c_ae66f6b31b5ad750f1fe042a706a4e3d4}\index{Pico\_Client.c@{Pico\_Client.c}!main@{main}}
\index{main@{main}!Pico\_Client.c@{Pico\_Client.c}}
\doxysubsubsection{\texorpdfstring{main()}{main()}}
{\footnotesize\ttfamily \label{_pico___client_8c_ae66f6b31b5ad750f1fe042a706a4e3d4} 
int main (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption})}



Punto de entrada del cliente (guante). 

Inicializa stdio, Wi-\/\+Fi, la librería del guante y la conexión UDP. Configura un timer en IRQ cada 250 ms y, en el loop principal, realiza polling de la pila de red y envía tramas periódicas con las lecturas de los dedos.

\begin{DoxyReturn}{Devuelve}
0 en operación normal, 1 si falla la inicialización. 
\end{DoxyReturn}
\Hypertarget{_pico___client_8c_ab895fc42f5b02b157111681fd1465632}\index{Pico\_Client.c@{Pico\_Client.c}!send\_timer\_callback@{send\_timer\_callback}}
\index{send\_timer\_callback@{send\_timer\_callback}!Pico\_Client.c@{Pico\_Client.c}}
\doxysubsubsection{\texorpdfstring{send\_timer\_callback()}{send\_timer\_callback()}}
{\footnotesize\ttfamily \label{_pico___client_8c_ab895fc42f5b02b157111681fd1465632} 
bool send\+\_\+timer\+\_\+callback (\begin{DoxyParamCaption}\item[{struct repeating\+\_\+timer \texorpdfstring{$\ast$}{*}}]{t}{}\end{DoxyParamCaption})}



Callback del timer periódico para disparar el envío de datos. 

Solo levanta una bandera para que el envío real se haga en el main, manteniendo la ISR lo más corta posible.


\begin{DoxyParams}{Parámetros}
{\em t} & Puntero al timer que generó la interrupción. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Devuelve}
true para que el timer siga repitiéndose. 
\end{DoxyReturn}
